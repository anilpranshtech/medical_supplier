<!DOCTYPE html>
{% load static %}
{% load superuser_tags %}
<html lang="en">
<!--begin::Head-->

<!-- Mirrored from preview.keenthemes.com/metronic8/demo58/apps/ecommerce/catalog/products.html by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 12 Jun 2025 13:16:33 GMT -->
<!-- Added by HTTrack -->
<meta http-equiv="content-type" content="text/html;charset=UTF-8"/><!-- /Added by HTTrack -->

<head>
    <title>Admin-Panel</title>
    <meta charset="utf-8"/>
    <meta name="description" content="
            The most advanced Tailwind CSS & Bootstrap 5 Admin Theme with 40 unique prebuilt layouts on Themeforest trusted by 100,000 beginners and professionals. Multi-demo,
            Dark Mode, RTL support and complete React, Angular, Vue, Asp.Net Core, Rails, Spring, Blazor, Django, Express.js, Node.js, Flask, Symfony & Laravel versions.
            Grab your copy now and get life-time updates for free.
        "/>
    <meta name="keywords" content="
            tailwind, tailwindcss, metronic, bootstrap, bootstrap 5, angular, VueJs, React, Asp.Net Core, Rails, Spring, Blazor, Django, Express.js,
            Node.js, Flask, Symfony & Laravel starter kits, admin themes, web design, figma, web development, free templates,
            free admin themes, bootstrap theme, bootstrap template, bootstrap dashboard, bootstrap dak mode, bootstrap button,
            bootstrap datepicker, bootstrap timepicker, fullcalendar, datatables, flaticon
        "/>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <meta property="og:locale" content="en_US"/>
    <meta property="og:type" content="article"/>
    <meta property="og:title"
          content="Metronic - The World's #1 Selling Tailwind CSS & Bootstrap Admin Template by KeenThemes"/>
    <meta property="og:url" content="https://keenthemes.com/metronic"/>
    <meta property="og:site_name" content="Metronic by Keenthemes"/>
    <link rel="canonical" href="products.html"/>
    <link rel="shortcut icon" href="{% static 'metronic/tailwind/dist/assets/media/brand-logos/health_logo.jpg' %}"/>


    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Inter:300,400,500,600,700"/>


    <link href="{% static 'supplier/plugins/custom/datatables/datatables.bundle.css' %}" rel="stylesheet"
          type="text/css"/>


    <link href="{% static 'supplier/css/fullcalendar.bundle.css' %}" rel="stylesheet" type="text/css"/>
    <link href="{% static 'supplier/plugins/global/plugins.bundle.css' %}" rel="stylesheet" type="text/css"/>
    <link href="{% static 'supplier/css/style.bundle.css' %}" rel="stylesheet" type="text/css"/>

    {% block extra_css_start %}{% endblock extra_css_start %}


    <script async src="https://www.googletagmanager.com/gtag/js?id=G-52YZ3XGZJ6"></script>
    <script>
        window.dataLayer = window.dataLayer || [];

        function gtag() {
            dataLayer.push(arguments);
        }

        gtag('js', new Date());

        gtag('config', 'G-52YZ3XGZJ6');
    </script>
    <script>
        if (window.top != window.self) {
            window.top.location.replace(window.self.location.href);
        }
    </script>
    <style>.long-message {
        white-space: pre-wrap;
        word-break: break-word;
        max-height: 300px;
        overflow-y: auto;
    }
    </style>

</head>


<body id="kt_app_body" data-kt-app-header-fixed="true" data-kt-app-header-fixed-mobile="true"
      data-kt-app-sidebar-enabled="true" data-kt-app-sidebar-fixed="true" data-kt-app-sidebar-push-toolbar="true"
      data-kt-app-sidebar-push-footer="true" class="app-default">
<script>
    var defaultThemeMode = "light";
    var themeMode;

    if (document.documentElement) {
        if (document.documentElement.hasAttribute("data-bs-theme-mode")) {
            themeMode = document.documentElement.getAttribute("data-bs-theme-mode");
        } else {
            if (localStorage.getItem("data-bs-theme") !== null) {
                themeMode = localStorage.getItem("data-bs-theme");
            } else {
                themeMode = defaultThemeMode;
            }
        }

        if (themeMode === "system") {
            themeMode = window.matchMedia("(prefers-color-scheme: dark)").matches ? "dark" : "light";
        }

        document.documentElement.setAttribute("data-bs-theme", themeMode);
    }
</script>

{% tag_user_permissions_list request.user as user_permissions_list %}

<div class="d-flex flex-column flex-root app-root" id="kt_app_root">
    <div class="app-page  flex-column flex-column-fluid" id="kt_app_page">

        {% include 'superuser/pages/header.html' %}

        <div class="app-wrapper  flex-column flex-row-fluid " id="kt_app_wrapper">
            {% include 'superuser/pages/sidebar.html' %}

            {% if messages %}
            {% for message in messages %}
            {% if message.tags == 'error' %}
            <div class="alert alert-danger alert-dismissible fade show mt-2 me-8" role="alert">
                {{ message }}
                <button type="button" class="btn-close btn-close-black" data-bs-dismiss="alert"
                        aria-label="Close"></button>
            </div>
            {% elif message.tags == 'success' %}
            <div class="alert alert-success alert-dismissible fade show mt-5 me-8" role="alert">
                {{ message }}
                <button type="button" class="btn-close btn-close-black" data-bs-dismiss="alert"
                        aria-label="Close"></button>
            </div>
            {% elif message.tags == 'info' or message.tags == 'warning' %}
            <div class="alert alert-warning alert-dismissible fade show mt-5 me-8" role="alert">
                {{ message }}
                <button type="button" class="btn-close btn-close-black" data-bs-dismiss="alert"
                        aria-label="Close"></button>
            </div>
            {% else %}
            <div class="alert alert-secondary alert-dismissible fade show mt-5 me-8" role="alert">
                {{ message }}
                <button type="button" class="btn-close btn-close-black" data-bs-dismiss="alert"
                        aria-label="Close"></button>
            </div>
            {% endif %}
            {% endfor %}
            {% endif %}

            {% block content %}

            <div id="kt_app_content_container" class="app-container  container-fluid ">
            </div>

            {% endblock %}
            <div id="kt_app_footer" class="app-footer ">
                <div class="app-container  container-fluid d-flex flex-column flex-md-row flex-center flex-md-stack py-3 ">
                    <div class="text-gray-900 order-2 order-md-1">
                        <span class="text-muted fw-semibold me-1">2025&copy;</span>
                        <a href="https://keenthemes.com/" target="_blank"
                           class="text-gray-800 text-hover-primary">Medical Supplier</a>
                    </div>

                    <ul class="menu menu-gray-600 menu-hover-primary fw-semibold order-1">
                        <li class="menu-item"><a href="https://keenthemes.com/" target="_blank"
                                                 class="menu-link px-2">About</a></li>
                        <li class="menu-item"><a href="https://devs.keenthemes.com/" target="_blank"
                                                 class="menu-link px-2">Support</a></li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
</div>

<div id="kt_scrolltop" class="scrolltop" data-kt-scrolltop="true">
    <i class="fas fa-arrow-up"></i>
</div>


<script src="{% static 'supplier/plugins/global/plugins.bundle.js' %}"></script>
<script src="{% static 'supplier/js/scripts.bundle.js' %}"></script>
<script src="{% static 'supplier/js/Animated.js' %}"></script>
<script src="{% static 'supplier/js/continentsLow.js' %}"></script>
<script src="{% static 'supplier/js/fullcalendar.bundle.js' %}"></script>
<script src="{% static 'supplier/js/index.js' %}"></script>
<script src="{% static 'supplier/js/map.js' %}"></script>
<script src="{% static 'supplier/js/percent.js' %}"></script>
<script src="{% static 'supplier/js/radar.js' %}"></script>
<script src="{% static 'supplier/js/usaLow.js' %}"></script>
<script src="{% static 'supplier/js/worldLow.js' %}"></script>
<script src="{% static 'supplier/js/worldTimeZoneAreasLow.js' %}"></script>
<script src="{% static 'supplier/js/worldTimeZonesLow.js' %}"></script>
<script src="{% static 'supplier/js/XY.js' %}"></script>
<script src="{% static 'supplier/plugins/custom/datatables/datatables.bundle.js' %}"></script>
<script src="{% static 'supplier/js/custom/apps/ecommerce/catalog/products.js' %}"></script>
<script src="{% static 'supplier/js/widgets.bundle.js' %}"></script>
<script src="{% static 'supplier/js/custom/widgets.js' %}"></script>
<script src="{% static 'supplier/js/custom/apps/chat/chat.js' %}"></script>
<script src="{% static 'supplier/js/custom/utilities/modals/upgrade-plan.js' %}"></script>
<script src="{% static 'supplier/js/custom/utilities/modals/users-search.js' %}"></script>
{% block page_only_scripts %}
{% endblock page_only_scripts %}

</body>
<script>
    function toggleNotificationPanel() {
        const drawer = document.getElementById("notificationDrawer");
        drawer.style.display = (drawer.style.display === "none" || drawer.style.display === "") ? "block" : "none";
    }

    function formatTimeElements() {
        document.querySelectorAll(".time-display").forEach(el => {
            const created = new Date(el.dataset.created);
            const now = new Date();
            const diff = (now - created) / 1000;

            let text = "Just now";
            if (diff > 60) text = `${Math.floor(diff / 60)} minute ago`;
            if (diff > 3600) text = `${Math.floor(diff / 3600)} hour ago`;

            el.textContent = text;
        });
    }

    function showNotificationPopup(title, message, notificationId, tabType) {
        document.getElementById('popupTitle').textContent = title;
        document.getElementById('popupMessage').textContent = message;
        document.getElementById('notificationOverlay').style.display = 'block';
        document.getElementById('notificationPopup').style.display = 'block';
        document.getElementById('notificationPopup').dataset.notificationId = notificationId;
        document.getElementById('notificationPopup').dataset.tab = tabType;
    }

    function closeNotificationPopup() {
        document.getElementById('notificationOverlay').style.display = 'none';
        document.getElementById('notificationPopup').style.display = 'none';

        const popup = document.getElementById('notificationPopup');
        const notificationId = popup.dataset.notificationId;
        const tabType = popup.dataset.tab;

        if (notificationId && tabType === 'unread') {
            fetch(`/mark-notification-read/${notificationId}/`, {
                method: 'POST',
                headers: {
                    'X-CSRFToken': '{{ csrf_token }}',
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify({})
            }).then(response => {
                if (response.ok) {

                    const el = document.querySelector(`[data-notification-id="${notificationId}"]`);
                    if (el) el.remove();


                    const readTab = document.getElementById("notiRead");
                    const newRead = document.createElement("div");
                    newRead.className = "border-bottom pb-3 mb-3";
                    newRead.setAttribute("data-id", notificationId);
                    newRead.setAttribute("data-tab", "read");

                    const now = new Date().toISOString();
                    const title = popup.querySelector('#popupTitle').textContent;
                    const message = popup.querySelector('#popupMessage').textContent;

                    newRead.innerHTML = `
                    <h6 class="mb-1">${title}</h6>
                    <small class="text-muted">${message}</small><br>
                    <span class="badge bg-success text-white time-display" data-created="${now}">Just now</span>
                `;

                    readTab.prepend(newRead);


                    newRead.addEventListener('click', function () {
                        showNotificationPopup(title, message, notificationId, 'read');
                    });


                    formatTimeElements();
                }
            });
        }
    }


    function attachNotificationClickHandlers() {
        const notifications = document.querySelectorAll('.tab-content .border-bottom');
        notifications.forEach(notification => {
            const title = notification.querySelector('h6')?.textContent || '';
            const message = notification.querySelector('small')?.textContent?.split(' - ')[0]?.trim() || '';
            const notificationId = notification.dataset.id || '';
            const tabType = notification.dataset.tab || '';

            notification.addEventListener('click', function () {
                showNotificationPopup(title, message, notificationId, tabType);
            });
        });
    }


    document.addEventListener('DOMContentLoaded', function () {
        formatTimeElements();
        attachNotificationClickHandlers();
    });

    function clearAllNotifications() {
        fetch("{% url 'supplier:clear_all_notifications' %}", {
            method: "POST",
            headers: {
                "X-CSRFToken": getCookie('csrftoken'),
                "Content-Type": "application/json"
            },
        })
            .then(response => response.json())
            .then(data => {
                if (data.status === 'success') {
                    document.getElementById("notiAll").innerHTML = "<p class='text-muted'>No notifications available.</p>";
                }
            });
    }


    function getCookie(name) {
        let cookieValue = null;
        if (document.cookie && document.cookie !== '') {
            const cookies = document.cookie.split(';');
            for (let i = 0; i < cookies.length; i++) {
                const cookie = cookies[i].trim();

                if (cookie.substring(0, name.length + 1) === (name + '=')) {
                    cookieValue = decodeURIComponent(cookie.substring(name.length + 1));
                    break;
                }
            }
        }
        return cookieValue;
    }

</script>


</html>
